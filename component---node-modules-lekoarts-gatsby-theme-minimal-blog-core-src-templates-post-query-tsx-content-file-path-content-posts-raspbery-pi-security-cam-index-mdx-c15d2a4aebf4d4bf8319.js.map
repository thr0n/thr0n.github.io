{"version":3,"file":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-raspbery-pi-security-cam-index-mdx-c15d2a4aebf4d4bf8319.js","mappings":"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","sources":["webpack://thr0n.github.io/./node_modules/@lekoarts/gatsby-theme-minimal-blog/src/components/post-footer.tsx","webpack://thr0n.github.io/./node_modules/@lekoarts/gatsby-theme-minimal-blog/src/components/post.tsx","webpack://thr0n.github.io/./node_modules/@lekoarts/gatsby-theme-minimal-blog/src/@lekoarts/gatsby-theme-minimal-blog-core/components/post.tsx","webpack://thr0n.github.io/./node_modules/@lekoarts/gatsby-theme-minimal-blog/src/components/item-tags.tsx","webpack://thr0n.github.io/./content/posts/raspbery-pi-security-cam/index.mdx","webpack://thr0n.github.io/./node_modules/@lekoarts/gatsby-theme-minimal-blog-core/src/templates/post-query.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-vars */\nimport * as React from \"react\"\nimport type { MBPostProps } from \"./post\"\n\nconst PostFooter = ({ post }: MBPostProps) => null\n\nexport default PostFooter\n","/** @jsx jsx */\nimport type { HeadFC, PageProps } from \"gatsby\"\nimport * as React from \"react\"\nimport { jsx, Heading } from \"theme-ui\"\nimport Layout from \"./layout\"\nimport ItemTags from \"./item-tags\"\nimport Seo from \"./seo\"\nimport PostFooter from \"./post-footer\"\n\nexport type MBPostProps = {\n  post: {\n    slug: string\n    title: string\n    date: string\n    tags?: {\n      name: string\n      slug: string\n    }[]\n    description?: string\n    canonicalUrl?: string\n    excerpt: string\n    timeToRead?: number\n    banner?: {\n      childImageSharp: {\n        resize: {\n          src: string\n        }\n      }\n    }\n  }\n}\n\nconst px = [`16px`, `8px`, `4px`]\nconst shadow = px.map((v) => `rgba(0, 0, 0, 0.1) 0px ${v} ${v} 0px`)\n\nconst Post: React.FC<React.PropsWithChildren<PageProps<MBPostProps>>> = ({ data: { post }, children }) => (\n  <Layout>\n    <Heading as=\"h1\" variant=\"styles.h1\">\n      {post.title}\n    </Heading>\n    <p sx={{ color: `secondary`, mt: 3, a: { color: `secondary` }, fontSize: [1, 1, 2] }}>\n      <time>{post.date}</time>\n      {post.tags && (\n        <React.Fragment>\n          {` â€” `}\n          <ItemTags tags={post.tags} />\n        </React.Fragment>\n      )}\n      {post.timeToRead && ` â€” `}\n      {post.timeToRead && <span>{post.timeToRead} min read</span>}\n    </p>\n    <section\n      sx={{\n        my: 5,\n        \".gatsby-resp-image-wrapper\": {\n          my: [4, 4, 5],\n          borderRadius: `4px`,\n          boxShadow: shadow.join(`, `),\n          \".gatsby-resp-image-image\": {\n            borderRadius: `4px`,\n          },\n        },\n        variant: `layout.content`,\n      }}\n    >\n      {children}\n    </section>\n    <PostFooter post={post} />\n  </Layout>\n)\n\nexport default Post\n\nexport const Head: HeadFC<MBPostProps> = ({ data: { post } }) => (\n  <Seo\n    title={post.title}\n    description={post.description ? post.description : post.excerpt}\n    image={post.banner ? post.banner?.childImageSharp?.resize?.src : undefined}\n    pathname={post.slug}\n    canonicalUrl={post.canonicalUrl}\n  />\n)\n","import type { PageProps } from \"gatsby\"\nimport * as React from \"react\"\nimport Post, { Head, MBPostProps } from \"../../../components/post\"\n\nexport default function MinimalBlogCorePost({ ...props }: PageProps<MBPostProps>) {\n  return <Post {...props} />\n}\n\nexport { Head }\n","/** @jsx jsx */\nimport { jsx } from \"theme-ui\"\nimport * as React from \"react\"\nimport { Link } from \"gatsby\"\nimport useMinimalBlogConfig from \"../hooks/use-minimal-blog-config\"\nimport replaceSlashes from \"../utils/replaceSlashes\"\n\ntype TagsProps = {\n  tags: {\n    name: string\n    slug: string\n  }[]\n}\n\nconst ItemTags = ({ tags }: TagsProps) => {\n  const { tagsPath, basePath } = useMinimalBlogConfig()\n\n  return (\n    <React.Fragment>\n      {tags.map((tag, i) => (\n        <React.Fragment key={tag.slug}>\n          {!!i && `, `}\n          <Link sx={(t) => ({ ...t.styles?.a })} to={replaceSlashes(`/${basePath}/${tagsPath}/${tag.slug}`)}>\n            {tag.name}\n          </Link>\n        </React.Fragment>\n      ))}\n    </React.Fragment>\n  )\n}\n\nexport default ItemTags\n","/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    h3: \"h3\",\n    em: \"em\",\n    span: \"span\",\n    a: \"a\",\n    code: \"code\",\n    pre: \"pre\",\n    img: \"img\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.p, null, \"A few days ago, my neighbours discovered that someone had broken into their cellar. That was unpleasant news, both for them and for me. There are no treasures stored in my cellar, but the situation led me to the following question: What can I do if someone invades my home while I am away?\"), \"\\n\", React.createElement(_components.p, null, \"From the perspective of a software developer, the answer is of course obvious. I just need a surveillance camera pointed at the front door that takes several photos when someone opens it. Of course, this does not prevent someone from coming in, but at least the person is photographed in the process ðŸ“¸ And I know from German television that these can be quite helpful in tracking down the culprits ðŸ˜‰\"), \"\\n\", React.createElement(_components.h3, null, \"Hardware\"), \"\\n\", React.createElement(_components.p, null, \"In fact, you don't need much at all for a simple implementation of this idea. I use my old \", React.createElement(_components.em, null, \"Raspberry Pi Model B+\"), \" as a basis, which still contains an old \", React.createElement(_components.em, null, \"SD card\"), \" for the operating system. I also got the Pi \", React.createElement(_components.em, null, \"camera module\"), \" as a Christmas present years ago. Unfortunately, I seem to have lost my USB \", React.createElement(_components.em, null, \"Wifi adapter\"), \". So I bought a new one, along with a simple \", React.createElement(_components.em, null, \"motion detector\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"So with this hardware I can now take photos when a movement is detected in the flat. But what if the SD card runs out of space or a possible burglar takes it?\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \\\"\\n    >\\n      <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 133.33333333333331%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAQBAgUD/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAHSUYzcuocQVknKjYkr/8QAGxAAAgMAAwAAAAAAAAAAAAAAAQIAAxEEEBL/2gAIAQEAAQUCZiqrydbYTFpUvDZgrJRvRmAzOv/EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/ASH/xAAWEQEBAQAAAAAAAAAAAAAAAAAAERD/2gAIAQIBAT8Byq//xAAcEAABBAMBAAAAAAAAAAAAAAABEBESIQAgMVL/2gAIAQEABj8CJwSp1LvXFl61/8QAHBAAAwEBAAMBAAAAAAAAAAAAAAERITFBYXGB/9oACAEBAAE/Icm4uQUhCLV6HoovotZdJfBzLRlpiPzwxvY0I1RIRH//2gAMAwEAAgADAAAAEFAGgf/EABcRAQADAAAAAAAAAAAAAAAAAAEAEBH/2gAIAQMBAT8QbYT/xAAVEQEBAAAAAAAAAAAAAAAAAAAQAf/aAAgBAgEBPxAgf//EAB4QAQADAAEFAQAAAAAAAAAAAAEAESFBMWGBkbGh/9oACAEBAAE/EHK9do/Nj3avc8ubbl9rggjZ+iMQDoFFrR20lpEqFW9WMUQV18wI9wLbV6Pv7LxZ6ikQcR5gayDcE//Z'); background-size: cover; display: block;\\\"\\n  ></span>\\n  <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        alt=\\\"The cam\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/59bd8b9e9bc6b36d66464bfe118a31b4/18e3b/the_cam.jpg\\\"\\n        srcset=\\\"/static/59bd8b9e9bc6b36d66464bfe118a31b4/46946/the_cam.jpg 240w,\\n/static/59bd8b9e9bc6b36d66464bfe118a31b4/55489/the_cam.jpg 480w,\\n/static/59bd8b9e9bc6b36d66464bfe118a31b4/18e3b/the_cam.jpg 960w,\\n/static/59bd8b9e9bc6b36d66464bfe118a31b4/60e21/the_cam.jpg 1440w,\\n/static/59bd8b9e9bc6b36d66464bfe118a31b4/69b48/the_cam.jpg 1920w,\\n/static/59bd8b9e9bc6b36d66464bfe118a31b4/03643/the_cam.jpg 3024w\\\"\\n        sizes=\\\"(max-width: 960px) 100vw, 960px\\\"\\n        style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n        loading=\\\"lazy\\\"\\n        decoding=\\\"async\\\"\\n      />\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.h3, null, \"Cloud storage\"), \"\\n\", React.createElement(_components.p, null, \"This problem can be solved using a cloud storage. It's enough to just store the images on the Pi temporarily and then upload them to the cloud. This also has the advantage that I can check from anywhere and at any time whether anything has happened in the flat. Since I have had a Dropbox account for years, I use it for backing up the photos. With this account, it is very easy to create an app on the \", React.createElement(_components.a, {\n    href: \"https://www.dropbox.com/developers\"\n  }, \"developer page\"), \". What you need at the end is an access token with which the app can access Dropbox.\"), \"\\n\", React.createElement(_components.h3, null, \"Software\"), \"\\n\", React.createElement(_components.p, null, \"To my surprise, I only needed a some libraries and a few lines of Python code for a simple camera functionality.\"), \"\\n\", React.createElement(_components.p, null, \"Most of the work is done in the \", React.createElement(_components.code, null, \"pressed()\"), \" method. First, five photos are created and saved under a temporary name on the SD card. The Dropbox app is then accessed using the access token. The photos can then be uploaded with the db object. The rest of the code is initialisation and deleting temporary files that are still in the directory after a possible crash. The number of photos to be taken or the waiting time after the sensor has triggered can of course be individually adjusted.\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-python\"\n  }, \"#!/usr/bin/python3\\nfrom dotenv import dotenv_values\\nfrom gpiozero import Button, LED\\nfrom time import sleep\\nimport datetime, dropbox, picamera, os\\n\\nconfig = dotenv_values(\\\".env\\\")\\ndb_ac = config[\\\"DB_ACCESS_TOKEN\\\"]\\nnum_pics = 5\\nbutton = Button(7, pull_up=False)\\n\\ndef pressed():\\n    camera = picamera.PiCamera()\\n    camera.vflip = True\\n    camera.hflip = True\\n    camera.resolution=(2592, 1944)\\n    for x in range(num_pics):\\n        localname = 'tmp' + str(x) + '.jpg'\\n        camera.capture(localname)\\n    camera.close()\\n\\n    db = dropbox.Dropbox(db_ac)\\n    for x in range(num_pics):\\n        localname = 'tmp' + str(x) + '.jpg'\\n        f = open(localname, 'rb')\\n        timestamp = datetime.datetime.now().isoformat()\\n        upname = '/rapi-' + timestamp + '.jpg'\\n        db.files_upload(f.read(), upname)\\n        f.close()\\n        db.close()\\n        os.remove(localname)\\n\\nfor x in range(num_pics):\\n    if os.path.exists(\\\"tmp\\\" + str(x) + \\\".jpg\\\"):\\n        os.remove(\\\"tmp\\\" + str(x) + \\\".jpg\\\")\\n\\nwhile True:\\n    button.wait_for_press()\\n    pressed()\\n    sleep(5)\\n\")), \"\\n\", React.createElement(_components.h3, null, \"Conclusion\"), \"\\n\", React.createElement(_components.p, null, \"In the end, I could not find any intruders in the pictures. The only thing that stood out was my cat Frieda, who was obviously trying to catch a fly. What luck! I very much hope that it stays that way.\"), \"\\n\", React.createElement(_components.img, {\n    src: \"https://i.makeagif.com/media/8-20-2021/OU5KfW.gif\",\n    alt: \"frieda-hunting-a-fly\"\n  }));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import React from \"react\";\nimport GATSBY_COMPILED_MDX from \"/Users/hendrik/dev/thr0n.github.io/content/posts/raspbery-pi-security-cam/index.mdx\";\nimport PostComponent, {Head} from \"../components/post\";\nPostComponent\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(PostComponent, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\nexport {Head};\nconst query = \"2040642971\";\n"],"names":["_ref","post","shadow","map","v","data","children","jsx","Layout","Heading","as","variant","title","sx","color","mt","a","fontSize","date","tags","React","ItemTags","timeToRead","my","borderRadius","boxShadow","join","PostFooter","Head","_ref2","_post$banner","_post$banner$childIma","_post$banner$childIma2","Seo","description","excerpt","image","banner","childImageSharp","resize","src","undefined","pathname","slug","canonicalUrl","MinimalBlogCorePost","props","Post","tagsPath","basePath","useMinimalBlogConfig","tag","i","key","Link","t","_t$styles","styles","to","replaceSlashes","name","_createMdxContent","_components","Object","assign","p","h3","em","span","code","pre","img","_provideComponents","components","dangerouslySetInnerHTML","__html","href","className","alt","wrapper","MDXLayout","GatsbyMDXWrapper","PostComponent","GATSBY_COMPILED_MDX"],"sourceRoot":""}